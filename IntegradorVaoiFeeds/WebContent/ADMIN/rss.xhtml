<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<f:view contentType="text/html">


	<h:head>
		<f:facet name="first">
			<meta charset="UTF-8" />
			<title>VAOI||Categorias</title>
			<meta
				content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'
				name='viewport' />
			<link
				href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/bootstrap/css/bootstrap.min.css"
				rel="stylesheet" type="text/css" />
			<!-- Font Awesome Icons -->
			<link
				href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/css/font-awesome.min.css"
				rel="stylesheet" type="text/css" />
			<!-- Ionicons -->
			<link
				href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/css/ionicons.min.css"
				rel="stylesheet" type="text/css" />
			<!-- Theme style -->
			<link
				href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/dist/css/AdminLTE.min.css"
				rel="stylesheet" type="text/css" />
			<!-- AdminLTE Skins -->
			<link
				href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/dist/css/skins/_all-skins.min.css"
				rel="stylesheet" type="text/css" />
		</f:facet>
	</h:head>

	<h:body class="skin-green">
		<!-- Site wrapper -->
		<div class="wrapper">

			<header class="main-header">
				<a class="logo"><b>VAOI</b></a>
				<!-- Header Navbar: style can be found in header.less -->
				<nav class="navbar navbar-static-top" role="navigation">
					<!-- Sidebar toggle button-->
					<a href="#" class="sidebar-toggle" data-toggle="offcanvas"
						role="button"> <span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
					</a>
					<div class="navbar-custom-menu">
						<!-- User Account: style can be found in dropdown.less -->
						<ul class="nav navbar-nav">
							<li class="dropdown user user-menu"><a href="#"
								class="dropdown-toggle" data-toggle="dropdown"> <img
									src="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/dist/img/avatar5.png"
									class="user-image" alt="User Image" /> <span class="hidden-xs">#{usuariosView.usuario.nombre}</span>
							</a>
								<ul class="dropdown-menu">
									<!-- User image -->
									<li class="user-header"><img
										src="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/dist/img/avatar5.png"
										class="img-circle" alt="User Image" />
										<p>#{usuariosView.usuario.rol}</p></li>

									<!-- Menu Footer-->
									<li class="user-footer">
										<div class="pull-left">
											<a href="#" class="btn btn-default btn-flat">Menu</a>
										</div>
										<div class="pull-right">
											<a
												href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/j_spring_security_logout"
												class="btn btn-default btn-flat">Salir</a>
										</div>
									</li>
								</ul></li>
						</ul>
					</div>
				</nav>
			</header>

			<!-- =============================================== -->
			<!-- Left side column. contains the sidebar -->
			<aside class="main-sidebar">
				<!-- sidebar: style can be found in sidebar.less -->
				<section class="sidebar">
					<!-- sidebar menu: : style can be found in sidebar.less -->
					<ul class="sidebar-menu">

						<li class="header">Panel de Navegación</li>

						<li><a
							href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/ADMIN/categorias.xhtml">
								<i class="fa fa-bookmark"></i> <span>Gestión Categorias</span>
						</a></li>

						<li><a
							href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/ADMIN/articulo.xhtml">
								<i class="fa fa-newspaper-o"></i> <span>Gestión Articulo</span>
						</a></li>

						<li><a
							href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/ADMIN/coleccion.xhtml">
								<i class="fa fa-folder-o"></i> <span>Gestión Colección</span>
						</a></li>

						<li><a
							href="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/ADMIN/rss.xhtml">
								<i class="fa fa-rss-square"></i> <span>Gestión RSS</span>
						</a></li>

					</ul>
				</section>
				<!-- /.sidebar -->
			</aside>

			<!-- =============================================== -->

			<!-- Content Wrapper. Contains page content -->
			<div class="content-wrapper">
				<!-- Content Header (Page header) -->
				<section class="content-header">
					<!--       <p:ajaxStatus onstart="PF('statusDialog').show()"
					onsuccess="PF('statusDialog').hide()" />
				<p:dialog modal="true" widgetVar="statusDialog" header="Loading"
					draggable="false" closable="false">
					<p:graphicImage
						value="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/images/ajaxloadingbar.gif" />
				</p:dialog>-->
					<f:view>
						<h:form id="form">
							<p:messages id="msg" autoUpdate="true" />

							<h:panelGrid columns="2" style="margin: 0 auto;">

								<p:panel id="panelColecciones" header="Colecciones"
									style="width:300px">

									<div align="left">

										<p:scrollPanel style="height:500px" mode="native">
											<p:tree id="txtColecciones"
												value="#{rssView.raizColecciones}" var="colecciones"
												selectionMode="single"
												style="margin: 0 auto;width:500px;width:auto;height:auto"
												selection="#{rssView.seleccionColecciones}">

												<p:treeNode icon="ui-icon-folder-collapsed">
													<h:outputText value="#{colecciones.nombre}" />
												</p:treeNode>
												<p:ajax event="select" listener="#{rssView.onNodeSelect}"
													update=":form:panelRss" />
											</p:tree>
										</p:scrollPanel>

										<p:contextMenu for="txtColecciones">

											<p:menuitem value="Crear RSS" action="#{rssView.crear()}"
												icon="ui-icon-pencil" onclick="PF('dlgRSS').show();"
												update=":formDlg:panelCrear" />

										</p:contextMenu>

									</div>
								</p:panel>

								<p:panel id="panelRss" header="RSS" style="width:300px">

									<div align="left">

										<p:scrollPanel style="height:500px" mode="native">
											<p:tree id="txtRSS" value="#{rssView.raizRss}" var="rss"
												selectionMode="single"
												style="margin: 0 auto;width:500px;width:auto;height:auto"
												selection="#{rssView.seleccionRss}">

												<p:treeNode icon="ui-icon-signal-diag">
													<h:outputText value="#{rss.url}" />
												</p:treeNode>
											</p:tree>
										</p:scrollPanel>

										<p:contextMenu for="txtRSS">

											<p:menuitem value="Modificar RSS"
												action="#{rssView.modificar()}" icon="ui-icon-pencil"
												onclick="PF('dlgModificar').show();"
												update=":formDlg2:panelModificar" />

										</p:contextMenu>

									</div>
								</p:panel>

							</h:panelGrid>

						</h:form>

						<h:form id="formDlg">
							<p:dialog header="Crear RSS" resizable="false" widgetVar="dlgRSS"
								modal="true" closable="false">

								<p:panel cellpadding="5">

									<p:messages id="messages" autoUpdate="true" closable="true" />

									<h:panelGrid columns="2" id="panelCrear">

										<p:outputLabel value="URL Rss:" />

										<p:inputText id="txtURLC" 
											binding="#{rssView.txtUrl}" />

									</h:panelGrid>

									<p:spacer height="10px" />

									<div align="center">
										<p:panelGrid columns="2">
											<h:commandButton value="Crear" class="btn btn-primary"
												action="#{rssView.action_create()}" update=":form" />
											<h:commandButton value="Cerrar" class="btn btn-primary"
												onclick="PF('dlgRSS').hide();" update="formDlg" />

										</p:panelGrid>

									</div>

								</p:panel>

							</p:dialog>
						</h:form>

						<h:form id="formDlg2">
							<p:dialog header="Modificar RSS" resizable="false"
								widgetVar="dlgModificar" modal="true" closable="false">

								<p:panel cellpadding="5">

									<p:messages id="messages" autoUpdate="true" closable="true" />

									<h:panelGrid columns="2" id="panelModificar">

										<p:outputLabel value="URL Rss:" />
										<p:inputText id="txtURL" 
											binding="#{rssView.txtUrlModificar}" />

									</h:panelGrid>

									<p:spacer height="10px" />

									<div align="center">
										<p:panelGrid columns="2">
											<h:commandButton value="Modificar" class="btn btn-primary"
												action="#{rssView.action_modify}" update=":form" />

											<h:commandButton value="Cerrar" class="btn btn-primary"
												onclick="PF('dlgModificar').hide();" update="formDlg2" />

										</p:panelGrid>

									</div>

								</p:panel>

							</p:dialog>
						</h:form>
					</f:view>
				</section>

			</div>
			<!-- /.content-wrapper -->

			<footer class="main-footer">
				<div class="pull-right hidden-xs">
					<b>Version</b> 1.0
				</div>
				<strong>Copyright 2015-2016 <a
					href="http://almsaeedstudio.com">Almsaeed Studio</a>.
				</strong> All rights reserved.
			</footer>
		</div>
		<!-- ./wrapper -->

		<!-- Bootstrap 3.3.2 JS -->
		<script
			src="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/bootstrap/js/bootstrap.min.js"
			type="text/javascript"></script>
		<!-- AdminLTE App -->
		<script
			src="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/dist/js/app.min.js"
			type="text/javascript"></script>
	</h:body>
</f:view>
</html>
